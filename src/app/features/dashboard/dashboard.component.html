<main class="dashboard-page">

    @if (dashboardData$ | async; as data) {

        <div class="page-header">
            <h2>ðŸ‘‹ Welcome to the TomCollege Dashboard</h2>
            <p class="dashboard-description">Quick overview of institutional statistics and recent activity.</p>
        </div>

        <section class="card-row">
            @for (card of data.cardData; track card.title) {
                <app-card
                    [title]="card.title"
                    [value]="card.value"
                    [icon]="card.icon">
                </app-card>
            }
        </section>

        <section class="recent-activity-section">
            <h3>Recent Grade Submissions</h3>
            <div class="table-container">
                <app-table
                    [data]="data.tableData"
                    [columns]="recentActivityColumns"
                    >
                </app-table>
            </div>
        </section>

    } @else {
        <div class="loading-overlay">
            <div class="loading-message">
                <span class="material-icons loading-spinner">loop</span> Loading dashboard data...
            </div>
        </div>
    }

</main>
