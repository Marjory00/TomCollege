<main class="dashboard-page" *ngIf="dashboardData$ | async as data; else loading">

    <div class="page-header">
        <h2>ðŸ‘‹ Welcome to the TomCollege Dashboard</h2>
        <p class="dashboard-description">Quick overview of institutional statistics and recent activity.</p>
    </div>

    <section class="card-row">
        <app-card
            *ngFor="let card of data.cardData"
            [title]="card.title"
            [value]="card.value"
            [icon]="card.icon">
        </app-card>
    </section>

    <section class="recent-activity-section">
        <h3>Recent Grade Submissions</h3>
        <div class="table-container">
            <app-table
                [data]="data.tableData"
                [columns]="recentActivityColumns"
                [keyMap]="recentActivityKeyMap">
            </app-table>
        </div>
    </section>

    </main>

<ng-template #loading>
    <div class="dashboard-page loading-state">
        <div class="loading-message">
            <span class="material-icons loading-spinner">loop</span> Loading dashboard data...
        </div>
    </div>
</ng-template>
